{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block content %}
  <div class="container">
    <h2>List of contacts</h2>
    <div class="my-5 col-4">
    <form action="{% url 'myApp:contact_list' %}" method="GET">
      {% bootstrap_form form %}
      <button type="submit" class="btn btn-outline-secondary">Search</button>
    </form>
    </div>
    {% if not contacts %}
      <p class="text-danger mt-3">No contacts found.</p>
    {% endif %}

    <table class="table table-dark table-hover">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Phone Number</th>
          <th scope="col">Email</th>
          <th scope="col">Address</th>
          <th scope="col">Edit</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        {% for contact in contacts  %}
        <tr>
          <td>{{ contact.name }}</td>
          <td>{{ contact.phone_number }}</td>
          <td>{{ contact.email }}</td>
          <td>{{ contact.address }}</td>
          <td><a href="{% url 'myApp:edit_contact' contact.pk %}" class="btn btn-outline-warning">Edit</a></td>
          <td><a href="{% url 'myApp:delete_contact' contact.pk %}" class="btn btn-outline-danger">Delete</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <a href="{% url 'myApp:export_contacts' %}" class="btn btn-success">Export-to-Csv</a>

      
  </div>
{% endblock content %}
  